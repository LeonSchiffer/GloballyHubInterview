import{p as D,m as F,q as I,o as s,c as r,a as l,t as c,g as N,F as L,r as S,h as $,s as E,x as h,f as y,u as k,w as B,Z as A,b as n,j as T,i as H,k as M}from"./app-B2g5KHqs.js";import{_ as U}from"./GuestLayout-A4amyjAc.js";import{b as G,a as R}from"./toast-CR1IqRPO.js";import"./ApplicationLogo-fcgZNeI2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={viewBox:"0 0 8 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O=l("path",{d:"M2.24 1c0 .556-.445 1-1 1-.556 0-1-.444-1-1s.444-1 1-1c.555 0 1 .444 1 1zm5.333 0c0 .556-.444 1-1 1-.555 0-1-.444-1-1s.445-1 1-1c.556 0 1 .444 1 1z",fill:"#BBB"},null,-1);function q(e,t){return s(),r("svg",j,[O])}var w=I({name:"VPage",components:{IconPaginationDots:q},props:{page:{type:Number,default:null},current:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"}},emits:["update"],setup(e,{emit:t}){const a=$(()=>e.page===e.current);function o(){t("update",e.page)}return{isActive:a,clickHandler:o}}});const Z=E();D("data-v-060ca318");const x={key:0,class:"DotsHolder"};F();const J=Z((e,t,a,o,_,m)=>{const v=h("icon-pagination-dots");return s(),r("li",null,[e.page===null?(s(),r("span",x,[l(v,{class:"Dots"})])):(s(),r("button",{key:1,class:["Page",{"Page-active":e.isActive}],type:"button","aria-label":`Go to page ${e.page}`,style:`background-color: ${e.isActive?e.activeColor:"transparent"};`,onClick:t[1]||(t[1]=(...f)=>e.clickHandler&&e.clickHandler(...f))},c(e.page),15,["aria-label"]))])});w.render=J;w.__scopeId="data-v-060ca318";w.__file="src/components/atoms/VPage.vue";const K={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Q=l("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41M6 6h2v12H6V6z"},null,-1);function W(e,t){return s(),r("svg",K,[Q])}const X={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Y=l("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6-1.41 1.41M16 6h2v12h-2V6z"},null,-1);function ee(e,t){return s(),r("svg",X,[Y])}const te={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ne=l("path",{d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.42z"},null,-1);function oe(e,t){return s(),r("svg",te,[ne])}const ae={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},le=l("path",{d:"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"},null,-1);function se(e,t){return s(),r("svg",ae,[le])}var P=I({name:"VPagination",components:{IconPageFirst:W,IconChevronLeft:oe,IconChevronRight:se,IconPageLast:ee,VPage:w},props:{pages:{type:Number,default:0},rangeSize:{type:Number,default:1},modelValue:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"},hideFirstButton:{type:Boolean,default:!1},hideLastButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=$(()=>{const i=[],g=5+e.rangeSize*2;let d=e.pages<=g?1:e.modelValue-e.rangeSize,p=e.pages<=g?e.pages:e.modelValue+e.rangeSize;if(p=p>e.pages?e.pages:p,d=d<1?1:d,e.pages>g){const C=d-1<3,z=e.pages-p<3;if(C){p=g-2;for(let u=1;u<d;u++)i.push(u)}else i.push(1),i.push(null);if(z){d=e.pages-(g-3);for(let u=d;u<=e.pages;u++)i.push(u)}else{for(let u=d;u<=p;u++)i.push(u);i.push(null),i.push(e.pages)}}else for(let C=d;C<=p;C++)i.push(C);return i});function o(i){t("update:modelValue",i)}const _=$(()=>e.modelValue>1),m=$(()=>e.modelValue<e.pages);function v(){_.value&&t("update:modelValue",1)}function f(){_.value&&t("update:modelValue",e.modelValue-1)}function V(){m.value&&t("update:modelValue",e.pages)}function b(){m.value&&t("update:modelValue",e.modelValue+1)}return{pagination:a,updatePageHandler:o,isPrevControlsActive:_,isNextControlsActive:m,goToFirst:v,goToLast:V,goToPrev:f,goToNext:b}}});const ie=E();D("data-v-2a30deb0");const re={class:"Pagination"},ue={key:0,class:"PaginationControl"},ce={class:"PaginationControl"},de={class:"PaginationControl"},ge={key:1,class:"PaginationControl"};F();const pe=ie((e,t,a,o,_,m)=>{const v=h("icon-page-first"),f=h("icon-chevron-left"),V=h("v-page"),b=h("icon-chevron-right"),i=h("icon-page-last");return s(),r("ul",re,[e.hideFirstButton?N("v-if",!0):(s(),r("li",ue,[l(v,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToFirst},null,8,["class","onClick"])])),l("li",ce,[l(f,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToPrev},null,8,["class","onClick"])]),(s(!0),r(L,null,S(e.pagination,g=>(s(),r(V,{key:`pagination-page-${g}`,page:g,current:e.modelValue,"active-color":e.activeColor,onUpdate:e.updatePageHandler},null,8,["page","current","active-color","onUpdate"]))),128)),l("li",de,[l(b,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToNext},null,8,["class","onClick"])]),e.hideLastButton?N("v-if",!0):(s(),r("li",ge,[l(i,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToLast},null,8,["class","onClick"])]))])});P.render=pe;P.__scopeId="data-v-2a30deb0";P.__file="src/components/VPagination.vue";const he=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"List Clients",-1),_e={class:""},me=n("button",{class:"button-primary"},"Create",-1),ve=n("br",null,null,-1),fe=n("br",null,null,-1),Ce={class:"per_page_container"},$e=n("label",{for:""},"Per Page",-1),we=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",null,"Email"),n("th",null,"Phone"),n("th",null,"Gender"),n("th",null,"Address"),n("th",null,"Nationality"),n("th",null,"DOB"),n("th",null,"Education Background"),n("th",null,"Preferred Contact Mode")])],-1),Pe={data(){return{clients:[],per_page:15}},mounted(){this.getClientList(this.per_page)},methods:{getClientList(e,t=1){G("clients",{page:t,limit:e}).then(a=>{console.log(a),this.clients=a.data}).catch(a=>{console.log(a.reponse),R("Could not fetch client list")})},updateHandler(e){this.getClientList(this.per_page,e)},perPageChange(e){var t=e.target.value;t=t<=0?15:t,this.per_page=t,this.getClientList(this.per_page,this.clients.current_page)}}},Le=Object.assign(Pe,{__name:"Index",setup(e){return(t,a)=>(s(),y(L,null,[l(k(A),{title:"Dashboard"}),l(U,null,{header:B(()=>[he]),default:B(()=>[n("div",_e,[n("div",null,[l(k(T),{href:"/clients/create",method:"GET"},{default:B(()=>[me]),_:1})]),ve,fe,n("div",Ce,[$e,H(n("input",{type:"number",min:"1","onUpdate:modelValue":a[0]||(a[0]=o=>t.per_page=o),onChange:a[1]||(a[1]=(...o)=>t.perPageChange&&t.perPageChange(...o))},null,544),[[M,t.per_page]])]),n("table",null,[we,n("tbody",null,[(s(!0),y(L,null,S(t.clients.data,o=>(s(),y("tr",null,[n("td",null,c(o.name),1),n("td",null,c(o.email),1),n("td",null,c(o.phone),1),n("td",null,c(o.gender),1),n("td",null,c(o.address),1),n("td",null,c(o.nationality),1),n("td",null,c(o.dob),1),n("td",null,c(o.education_background),1),n("td",null,c(o.preferred_contact_mode),1)]))),256))])]),l(k(P),{modelValue:t.clients.current_page,"onUpdate:modelValue":[a[2]||(a[2]=o=>t.clients.current_page=o),t.updateHandler],pages:t.clients.last_page,"active-color":"#DCEDFF"},null,8,["modelValue","pages","onUpdate:modelValue"])])]),_:1})],64))}});export{Le as default};
