import{p as D,q as F,r as I,o as l,c as r,a as s,t as c,g as B,F as k,s as S,h as $,x as z,y as h,f as b,u as L,w as N,Z as E,b as n,i as H,k as M}from"./app-SjQgPyui.js";import{_ as T}from"./GuestLayout-C30Lhk1k.js";import{b as U,a as G}from"./toast-DN51TBCR.js";import"./ApplicationLogo-COZLwfcU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={viewBox:"0 0 8 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O=s("path",{d:"M2.24 1c0 .556-.445 1-1 1-.556 0-1-.444-1-1s.444-1 1-1c.555 0 1 .444 1 1zm5.333 0c0 .556-.444 1-1 1-.555 0-1-.444-1-1s.445-1 1-1c.556 0 1 .444 1 1z",fill:"#BBB"},null,-1);function j(e,t){return l(),r("svg",R,[O])}var w=I({name:"VPage",components:{IconPaginationDots:j},props:{page:{type:Number,default:null},current:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"}},emits:["update"],setup(e,{emit:t}){const a=$(()=>e.page===e.current);function o(){t("update",e.page)}return{isActive:a,clickHandler:o}}});const q=z();D("data-v-060ca318");const Z={key:0,class:"DotsHolder"};F();const x=q((e,t,a,o,_,v)=>{const m=h("icon-pagination-dots");return l(),r("li",null,[e.page===null?(l(),r("span",Z,[s(m,{class:"Dots"})])):(l(),r("button",{key:1,class:["Page",{"Page-active":e.isActive}],type:"button","aria-label":`Go to page ${e.page}`,style:`background-color: ${e.isActive?e.activeColor:"transparent"};`,onClick:t[1]||(t[1]=(...f)=>e.clickHandler&&e.clickHandler(...f))},c(e.page),15,["aria-label"]))])});w.render=x;w.__scopeId="data-v-060ca318";w.__file="src/components/atoms/VPage.vue";const J={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},K=s("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41M6 6h2v12H6V6z"},null,-1);function Q(e,t){return l(),r("svg",J,[K])}const W={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},X=s("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6-1.41 1.41M16 6h2v12h-2V6z"},null,-1);function Y(e,t){return l(),r("svg",W,[X])}const ee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},te=s("path",{d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.42z"},null,-1);function ne(e,t){return l(),r("svg",ee,[te])}const oe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ae=s("path",{d:"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"},null,-1);function le(e,t){return l(),r("svg",oe,[ae])}var P=I({name:"VPagination",components:{IconPageFirst:Q,IconChevronLeft:ne,IconChevronRight:le,IconPageLast:Y,VPage:w},props:{pages:{type:Number,default:0},rangeSize:{type:Number,default:1},modelValue:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"},hideFirstButton:{type:Boolean,default:!1},hideLastButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=$(()=>{const i=[],g=5+e.rangeSize*2;let d=e.pages<=g?1:e.modelValue-e.rangeSize,p=e.pages<=g?e.pages:e.modelValue+e.rangeSize;if(p=p>e.pages?e.pages:p,d=d<1?1:d,e.pages>g){const C=d-1<3,A=e.pages-p<3;if(C){p=g-2;for(let u=1;u<d;u++)i.push(u)}else i.push(1),i.push(null);if(A){d=e.pages-(g-3);for(let u=d;u<=e.pages;u++)i.push(u)}else{for(let u=d;u<=p;u++)i.push(u);i.push(null),i.push(e.pages)}}else for(let C=d;C<=p;C++)i.push(C);return i});function o(i){t("update:modelValue",i)}const _=$(()=>e.modelValue>1),v=$(()=>e.modelValue<e.pages);function m(){_.value&&t("update:modelValue",1)}function f(){_.value&&t("update:modelValue",e.modelValue-1)}function V(){v.value&&t("update:modelValue",e.pages)}function y(){v.value&&t("update:modelValue",e.modelValue+1)}return{pagination:a,updatePageHandler:o,isPrevControlsActive:_,isNextControlsActive:v,goToFirst:m,goToLast:V,goToPrev:f,goToNext:y}}});const se=z();D("data-v-2a30deb0");const ie={class:"Pagination"},re={key:0,class:"PaginationControl"},ue={class:"PaginationControl"},ce={class:"PaginationControl"},de={key:1,class:"PaginationControl"};F();const ge=se((e,t,a,o,_,v)=>{const m=h("icon-page-first"),f=h("icon-chevron-left"),V=h("v-page"),y=h("icon-chevron-right"),i=h("icon-page-last");return l(),r("ul",ie,[e.hideFirstButton?B("v-if",!0):(l(),r("li",re,[s(m,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToFirst},null,8,["class","onClick"])])),s("li",ue,[s(f,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToPrev},null,8,["class","onClick"])]),(l(!0),r(k,null,S(e.pagination,g=>(l(),r(V,{key:`pagination-page-${g}`,page:g,current:e.modelValue,"active-color":e.activeColor,onUpdate:e.updatePageHandler},null,8,["page","current","active-color","onUpdate"]))),128)),s("li",ce,[s(y,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToNext},null,8,["class","onClick"])]),e.hideLastButton?B("v-if",!0):(l(),r("li",de,[s(i,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToLast},null,8,["class","onClick"])]))])});P.render=ge;P.__scopeId="data-v-2a30deb0";P.__file="src/components/VPagination.vue";const pe=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard",-1),he={class:"py-12"},_e={class:"per_page_container"},ve=n("label",{for:""},"Per Page",-1),me=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",null,"Email"),n("th",null,"Phone"),n("th",null,"Gender"),n("th",null,"Address"),n("th",null,"Nationality"),n("th",null,"DOB"),n("th",null,"Education Background"),n("th",null,"Preferred Contact Mode")])],-1),fe={data(){return{clients:[],per_page:15}},mounted(){this.getClientList(this.per_page)},methods:{getClientList(e,t=1){U("clients",{page:t,limit:e}).then(a=>{console.log(a),this.clients=a.data}).catch(a=>{console.log(a.reponse),G("Could not fetch client list")})},updateHandler(e){this.getClientList(this.per_page,e)},perPageChange(e){var t=e.target.value;t=t<=0?15:t,this.per_page=t,this.getClientList(this.per_page,this.clients.current_page)}}},ye=Object.assign(fe,{__name:"Index",setup(e){return(t,a)=>(l(),b(k,null,[s(L(E),{title:"Dashboard"}),s(T,null,{header:N(()=>[pe]),default:N(()=>[n("div",he,[n("div",_e,[ve,H(n("input",{type:"number",min:"1","onUpdate:modelValue":a[0]||(a[0]=o=>t.per_page=o),onChange:a[1]||(a[1]=(...o)=>t.perPageChange&&t.perPageChange(...o))},null,544),[[M,t.per_page]])]),n("table",null,[me,n("tbody",null,[(l(!0),b(k,null,S(t.clients.data,o=>(l(),b("tr",null,[n("td",null,c(o.name),1),n("td",null,c(o.email),1),n("td",null,c(o.phone),1),n("td",null,c(o.gender),1),n("td",null,c(o.address),1),n("td",null,c(o.nationality),1),n("td",null,c(o.dob),1),n("td",null,c(o.education_background),1),n("td",null,c(o.preferred_contact_mode),1)]))),256))])]),s(L(P),{modelValue:t.clients.current_page,"onUpdate:modelValue":[a[2]||(a[2]=o=>t.clients.current_page=o),t.updateHandler],pages:t.clients.last_page,"active-color":"#DCEDFF"},null,8,["modelValue","pages","onUpdate:modelValue"])])]),_:1})],64))}});export{ye as default};
